(function(){"use strict";var t={2455:function(t,e,a){var n=a(9242),o=a(3396);function r(t,e){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a)}var s=a(89);const i={},l=(0,s.Z)(i,[["render",r]]);var c=l,d=a(2483),p=a(7139);const u=t=>((0,o.dD)("data-v-01cd49d8"),t=t(),(0,o.Cn)(),t),h=u((()=>(0,o._)("h1",{class:"logo"},[(0,o._)("a",{href:"#"},"Product")],-1))),f={id:"app",class:"wrap"},g={class:"main rounded"},w={class:"sort-content d-flex justify-content-md-between justify-content-center"},m={id:"js-crop-name",class:"show-result fw-bold"},v={key:0},y={key:0,class:"pagination"};function _(t,e,a,n,r,s){const i=(0,o.up)("ButtonGroup"),l=(0,o.up)("SearchGroup"),c=(0,o.up)("SelectGroup"),d=(0,o.up)("TableGroup"),u=(0,o.up)("el-pagination");return(0,o.wg)(),(0,o.iD)(o.HY,null,[h,(0,o._)("div",f,[(0,o._)("div",g,[(0,o.Wm)(i,{onChangeCropType:s.changeCropType},null,8,["onChangeCropType"]),(0,o.Wm)(l,{onSearchCrop:s.searchCrop,modelValue:r.searchText,"onUpdate:modelValue":e[0]||(e[0]=t=>r.searchText=t)},null,8,["onSearchCrop","modelValue"]),(0,o._)("div",w,[(0,o._)("p",m,[r.searchText?((0,o.wg)(),(0,o.iD)("span",v,"查看「"+(0,p.zw)(r.searchText)+"」的比價結果",1)):(0,o.kq)("",!0)]),(0,o.Wm)(c,{onSortDown:s.sortDown,filteredList:s.filteredList,modelValue:r.sortType,"onUpdate:modelValue":e[1]||(e[1]=t=>r.sortType=t)},null,8,["onSortDown","filteredList","modelValue"])]),(0,o.Wm)(d,{onSortDown:s.sortDown,onSortUp:s.sortUp,filteredList:r.dataShown,cropType:r.cropType,searchText:r.searchText},null,8,["onSortDown","onSortUp","filteredList","cropType","searchText"]),s.filteredList.length?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(u,{background:"",layout:"prev, pager, next",total:s.filteredList.length,"page-size":r.perPage,"current-page":r.currentPage,"onUpdate:currentPage":e[2]||(e[2]=t=>r.currentPage=t)},null,8,["total","page-size","current-page"])])):(0,o.kq)("",!0)])])],64)}var T=a(4161);const b={class:"button-group d-flex justify-content-center"},C=["data-type","onClick"];function x(t,e,a,n,r,s){return(0,o.wg)(),(0,o.iD)("div",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.buttons,(t=>((0,o.wg)(),(0,o.iD)("button",{key:t.code,"data-type":t.code,type:"button",class:(0,p.C_)(["btn-type","btn","border-dark","border-2",{active:t.isActive}]),onClick:e=>s.changeCropType(t.code)},(0,p.zw)(t.label),11,C)))),128))])}var k={data(){return{buttons:[{code:"N04",label:"蔬果",isActive:!1},{code:"N05",label:"水果",isActive:!1},{code:"N06",label:"花卉",isActive:!1}]}},emits:["changeCropType"],methods:{changeCropType(t){this.$emit("changeCropType",t),this.buttons.forEach((t=>t.isActive=!1)),"N04"===t?this.buttons[0].isActive=!0:"N05"===t?this.buttons[1].isActive=!0:"N06"===t&&(this.buttons[2].isActive=!0)}}};const D=(0,s.Z)(k,[["render",x],["__scopeId","data-v-5681a972"]]);var L=D;const U={class:"search-group d-flex flex-column flex-md-row"},P={class:"crop-input d-flex mb-2"},S=(0,o._)("label",{class:"rounded-start text-white",for:"crop"},"作物名稱",-1);function V(t,e,a,r,s,i){return(0,o.wg)(),(0,o.iD)("div",U,[(0,o._)("div",P,[S,(0,o.wy)((0,o._)("input",{class:"rounded-end",type:"text",placeholder:"請輸入作物名稱",id:"crop",name:"crop","onUpdate:modelValue":e[0]||(e[0]=t=>s.searchText=t)},null,512),[[n.nr,s.searchText]])]),(0,o._)("button",{type:"button",class:"search text-white btn mb-2",onClick:e[1]||(e[1]=(...t)=>i.searchCrop&&i.searchCrop(...t))}," 清空搜尋 ")])}var W={props:{modelValue:String},emits:["searchCrop","update:modelValue"],data(){return{searchText:this.modelValue}},watch:{searchText(t){this.$emit("update:modelValue",t)},modelValue(){""===this.modelValue&&(this.searchText="")}},methods:{searchCrop(){this.$emit("searchCrop")}}};const j=(0,s.Z)(W,[["render",V]]);var z=j;const O=["disabled"],A=(0,o.uE)('<option data-v-6a9398ed>排序篩選</option><option value="上價" data-v-6a9398ed>依上價排序</option><option value="中價" data-v-6a9398ed>依中價排序</option><option value="下價" data-v-6a9398ed>依下價排序</option><option value="平均價" data-v-6a9398ed>依平均價排序</option><option value="交易量" data-v-6a9398ed>依交易量排序</option>',6),G=[A];function Z(t,e,a,r,s,i){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.sortType=t),class:"sort-select mobile-select border-secondary d-none d-md-block rounded p-2 pe-4",onChange:e[1]||(e[1]=t=>i.sortDown(s.sortType)),disabled:0===a.filteredList.length},G,40,O)),[[n.bM,s.sortType]])}var N={props:{modelValue:String,filteredList:Array},emits:["sortDown"],data(){return{sortType:this.modelValue}},methods:{sortDown(t){this.$emit("sortDown",t)}}};const $=(0,s.Z)(N,[["render",Z],["__scopeId","data-v-6a9398ed"]]);var E=$;const I={class:"market table me-4"},H={class:"js-sort-advanced"},M=(0,o._)("th",{width:"15%"},"作物名稱",-1),Y=(0,o._)("th",{width:"15%"},"市場名稱",-1),q={width:"14%"},B={class:"inline-flex sort-advanced"},K={width:"14%"},Q={class:"inline-flex sort-advanced"},F={width:"14%"},R={class:"inline-flex sort-advanced"},J={width:"14%"},X={class:"inline-flex sort-advanced"},tt={width:"14%"},et={class:"inline-flex sort-advanced"},at={class:"showList"},nt={key:0},ot=(0,o._)("td",{colspan:"7",class:"text-center p-3"}," 請輸入並搜尋想比價的作物名稱^＿^ ",-1),rt=[ot],st={key:1},it=(0,o._)("td",{colspan:"7",class:"text-center p-3"},"查詢不到交易資訊QQ",-1),lt=[it];function ct(t,e,a,n,r,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("table",I,[(0,o._)("thead",H,[(0,o._)("tr",null,[M,Y,(0,o._)("th",q,[(0,o._)("div",B,[(0,o.Uk)(" 上價 "),(0,o._)("span",null,[(0,o.Wm)(i,{onClick:e[0]||(e[0]=t=>s.sortUp("上價")),class:(0,p.C_)({"fa-caret-up":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-up"},null,8,["class"]),(0,o.Wm)(i,{"data-price":"上價",onClick:e[1]||(e[1]=t=>s.sortDown("上價")),class:(0,p.C_)({"fa-caret-down":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-down"},null,8,["class"])])])]),(0,o._)("th",K,[(0,o._)("div",Q,[(0,o.Uk)(" 中價 "),(0,o._)("span",null,[(0,o.Wm)(i,{"data-price":"中價",onClick:e[2]||(e[2]=t=>s.sortUp("中價")),class:(0,p.C_)({"fa-caret-up":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-up"},null,8,["class"]),(0,o.Wm)(i,{"data-price":"中價",onClick:e[3]||(e[3]=t=>s.sortDown("中價")),class:(0,p.C_)({"fa-caret-down":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-down"},null,8,["class"])])])]),(0,o._)("th",F,[(0,o._)("div",R,[(0,o.Uk)(" 下價 "),(0,o._)("span",null,[(0,o.Wm)(i,{"data-price":"下價",onClick:e[4]||(e[4]=t=>s.sortUp("下價")),class:(0,p.C_)({"fa-caret-up":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-up"},null,8,["class"]),(0,o.Wm)(i,{"data-price":"下價",onClick:e[5]||(e[5]=t=>s.sortDown("下價")),class:(0,p.C_)({"fa-caret-down":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-down"},null,8,["class"])])])]),(0,o._)("th",J,[(0,o._)("div",X,[(0,o.Uk)(" 平均價 "),(0,o._)("span",null,[(0,o.Wm)(i,{"data-price":"平均價",onClick:e[6]||(e[6]=t=>s.sortUp("平均價")),class:(0,p.C_)({"fa-caret-up":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-up"},null,8,["class"]),(0,o.Wm)(i,{"data-price":"平均價",onClick:e[7]||(e[7]=t=>s.sortDown("平均價")),class:(0,p.C_)({"fa-caret-down":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-down"},null,8,["class"])])])]),(0,o._)("th",tt,[(0,o._)("div",et,[(0,o.Uk)(" 交易量 "),(0,o._)("span",null,[(0,o.Wm)(i,{"data-price":"交易量",onClick:e[8]||(e[8]=t=>s.sortUp("交易量")),class:(0,p.C_)({"fa-caret-up":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-up"},null,8,["class"]),(0,o.Wm)(i,{"data-price":"交易量",onClick:e[9]||(e[9]=t=>s.sortDown("交易量")),class:(0,p.C_)({"fa-caret-down":!0,"display-none":0===a.filteredList.length}),icon:"fa-solid fa-caret-down"},null,8,["class"])])])])])]),(0,o._)("tbody",at,[""===a.cropType&&""==a.searchText?((0,o.wg)(),(0,o.iD)("tr",nt,rt)):0===a.filteredList.length?((0,o.wg)(),(0,o.iD)("tr",st,lt)):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(a.filteredList,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,p.zw)(t.作物名稱),1),(0,o._)("td",null,(0,p.zw)(t.市場名稱),1),(0,o._)("td",null,(0,p.zw)(t.上價),1),(0,o._)("td",null,(0,p.zw)(t.中價),1),(0,o._)("td",null,(0,p.zw)(t.下價),1),(0,o._)("td",null,(0,p.zw)(t.平均價),1),(0,o._)("td",null,(0,p.zw)(t.交易量),1)])))),128))])])}var dt={props:{filteredList:Array,cropType:String,searchText:String},emits:["sortUp","sortDown"],methods:{sortUp(t){this.$emit("sortUp",t)},sortDown(t){this.$emit("sortDown",t)}}};const pt=(0,s.Z)(dt,[["render",ct]]);var ut=pt,ht=a(3191),ft={data(){return{data:[],cropType:"",searchText:"",sortType:"排序篩選",dataShown:[],currentPage:1,pageTotal:0,perPage:20}},components:{ButtonGroup:L,SearchGroup:z,SelectGroup:E,TableGroup:ut,ElPagination:ht.R},computed:{filteredList(){let t=[];if(""===this.cropType){if(""===this.searchText.trim())return t;if(t=this.data.filter((t=>t.作物名稱?.match(this.searchText.trim()))),t.length>0)return this.data.filter((t=>t.作物名稱?.match(this.searchText.trim())));if(0===t.length)return t}else{if(""===this.searchText.trim())return this.data.filter((t=>t.種類代碼===this.cropType));if(t=this.data.filter((t=>t.作物名稱?.match(this.searchText.trim()))),t.length>0)return this.data.filter((t=>t.種類代碼===this.cropType&&t.作物名稱?.match(this.searchText.trim())));if(0===t.length)return t}}},methods:{changeCropType(t){this.cropType=t,this.pagination(1)},searchCrop(){""===this.searchText.trim()?alert("請輸入作物名稱！"):this.searchText="",this.pagination(1),console.log("searchCrop")},sortUp(t){this.filteredList.sort(((e,a)=>a[t]-e[t])),this.pagination(1)},sortDown(t){this.filteredList.sort(((e,a)=>e[t]-a[t])),this.pagination(1),console.log(this.dataShown),console.log(this.filteredList)},fetchData(){T.Z.get("https://hexschool.github.io/js-filter-data/data.json").then((t=>{this.data=t.data})).catch((t=>{console.error(t)}))},pagination(t){const e=this.filteredList.length;this.pageTotal=Math.ceil(e/this.perPage),this.currentPage=t,this.currentPage>this.pageTotal&&(this.currentPage=this.pageTotal);const a=(this.currentPage-1)*this.perPage,n=this.currentPage*this.perPage;this.dataShown=this.filteredList.slice(a,n)}},watch:{filteredList(){this.pagination(1)},currentPage(){this.pagination(this.currentPage)}},created(){this.fetchData()}};const gt=(0,s.Z)(ft,[["render",_],["__scopeId","data-v-01cd49d8"]]);var wt=gt;const mt=[{path:"/",name:"home",component:wt}],vt=(0,d.p7)({history:(0,d.r5)(),routes:mt});var yt=vt,_t=a(9876),Tt=(a(4415),a(3494)),bt=a(7749),Ct=a(8539);Tt.vI.add(Ct.l1h,Ct.eW2);const xt=(0,n.ri)(c);xt.component("font-awesome-icon",bt.GN),xt.use(_t.Z),xt.use(yt),xt.mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,r){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],r=t[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var d=l(a)}for(e&&e(n);c<s.length;c++)r=s[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},n=self["webpackChunkagri_products"]=self["webpackChunkagri_products"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2455)}));n=a.O(n)})();
//# sourceMappingURL=app.0a7c6b74.js.map